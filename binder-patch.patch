From 036f4f8735d6ee8ee0c03d796ce3868fe75759e4 Mon Sep 17 00:00:00 2001
From: Manuel Bernhardt <bernhardt.manuel@gmail.com>
Date: Mon, 11 Jul 2011 11:48:57 +0200
Subject: [PATCH] [#970] Passing the bean property suffix to custom
 TypeBinder-s

---
 framework/src/play/data/binding/Binder.java |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/framework/src/play/data/binding/Binder.java b/framework/src/play/data/binding/Binder.java
index 7620bb2..d94bfb9 100644
--- a/framework/src/play/data/binding/Binder.java
+++ b/framework/src/play/data/binding/Binder.java
@@ -234,7 +234,7 @@ public class Binder {
                 }
                 for (String v : value) {
                     try {
-                        r.add(directBind(name, annotations, v, componentClass));
+                        r.add(directBind(name + (StringUtils.isEmpty(suffix) ? "" : suffix), annotations, v, componentClass));
                     } catch (Exception e) {
                         // ?? One item was bad
                         Logger.debug(e, "error:");
@@ -255,7 +255,7 @@ public class Binder {
                 return MISSING;
             }
 
-            return directBind(name, annotations, value[0], clazz, type);
+            return directBind(name + (StringUtils.isEmpty(suffix) ? "" : suffix), annotations, value[0], clazz, type);
         } catch (Exception e) {
             Validation.addError(name + suffix, "validation.invalid");
             return MISSING;
-- 
1.7.5.4

