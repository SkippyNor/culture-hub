@(story: models.Story)

@import views.context._

@header("Story " + story.name + " of user " + fullName(story.userName) ) {

<link rel="stylesheet" type="text/css" href='@asset("/public/themes/common/stylesheets/scrollable.css")'/>


<div class="story">

<h1>@story.name</h1>
<!-- "previous page" action -->
<a class="prev browse left">Previous</a>

    <div class="story-container">

        <div class="story-navigation">
            <a class="prev browse left">Previous page</a>
            <a class="next browse right">Next page</a>
        </div>

     @for(page <- story.pages) {
      <div class="page">
         <h2>@page.title</h2>
         <div class="media">
           @for(i <- page.objects.headOption) {
              <img src="@imageUrl(i.dobject_id)" alt="@page.title">
           }
         </div>
          <div class="text">
            @Html(page.text)
          </div>
      </div>
     }

            <!-- root element for the items -->
            <div class="items">

                <div class="page title-page">
                    <div class="page-left">
                         <h1>@story.name</h1>
                          <h2>By: @fullName(story.userName)</h2>
                    </div>
                    <div class="page-right">
                          <img src="@thumbnailUrl(story._id)" />
                    </div>
                </div>

                @for(page <- story.pages) {
                <div class="page">
                    <div class="page-left">
                        <h2>@page.title</h2>
                        @Html(page.text)
                    </div>
                    <div class="page-right">
                        [page image]
                    </div>
                </div>
                }

            </div>

        </div>

    </div>
</div>

<script type="text/javascript">
    // execute your scripts when the DOM is ready. this is mostly a good habit
    $(function() {

        // initialize scrollable
        $(".scrollable").scrollable();

    });
</script>
}