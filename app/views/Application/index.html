#{extends viewUtils.themeProperty('themeLayout') /}
#{set title: viewUtils.getKey('ui.label.welcome') /}
#{set bodyId:'home' /}
#{set 'moreCss'}

#{/set}

#{set 'moreScripts'}
<script src='${views.context.package.themePath("javascripts/index.js")}' type='text/javascript'></script>
#{/set}

<div class="messages-container row">
    <div class="messages">
        #{if flash.registrationSuccess}
        <p class="success">
            ${viewUtils.getKey("ui.message.registration.success", flash.registrationSuccess)}
        </p>
        #{/}
        #{if flash.registrationError}
        <p class="error">
            ${viewUtils.getKey("ui.message.registration.error", flash.registrationError)}
        </p>
        #{/}
        #{if flash.activation && flash.activation == "true"}
        <p class="success">
            ${viewUtils.getKey("ui.message.activation.success")}
        </p>
        #{/}
        #{if flash.activation && flash.activation == "false"}
        <p class="error">
            ${viewUtils.getKey("ui.message.activation.error")}
        </p>
        #{/}
        #{if flash.resetPasswordEmail && flash.resetPasswordEmail == "true"}
        <p class="success">
            ${viewUtils.getKey("ui.message.resetpassword.email.success")}
        </p>
        #{/}
        #{if flash.resetPasswordError}
        <p class="error">
            ${viewUtils.getKey("ui.message.resetpassword.error", flash.resetPasswordError)}
        </p>
        #{/}
        #{if flash.resetPasswordSuccess && flash.resetPasswordSuccess == "true"}
        <p class="success">
            ${viewUtils.getKey("ui.message.resetpassword.success")}
        </p>
        #{/}
    </div>
</div>

<div class="row">
    #{if recentCollections.size() > 0}
    <div class="g-1of4 grid_3">
        <h3>&{'thing.objects.heritage'}</h3>
        <p>&{'thing.objects.heritage.info'}</p>
        #{list recentCollections, as: 'c'}
            #{thingSummaryView data: c, type:messages.get('thing.collection'), iSize: 220 /}
        #{/list}
    </div>
    #{/if}

    #{if recentObjects.size() > 0}
    <div class="g-1of4 grid_3">
        <h3>&{'thing.objects.user'}</h3>
        <p>&{'thing.objects.user.info'}</p>
        #{list recentObjects, as: 'o'}
            #{thingSummaryView data: o, type: messages.get('thing.object'), iSize: 220 /}
        #{/list}
    </div>
    #{/if}

    #{if recentCollections.size() > 0}
    <div class="g-1of4 grid_3">
        <h3>&{'thing.collections'}</h3>
        <p>&{'thing.collections.info'}</p>
        #{list recentCollections, as: 'c'}
            #{thingSummaryView data: c, type:messages.get('thing.collection'), iSize: 220 /}
        #{/list}
    </div>
    #{/if}

    #{if recentStories.size() > 0}
    <div class="g-1of4 grid_3">
        <h3>&{'thing.stories'}</h3>
        <p>&{'thing.stories.info'}</p>
        #{list recentStories, as: 's'}
            #{thingSummaryView data: s, type:messages.get('thing.story'), iSize: 220 /}
        #{/list}
    </div>
    #{/if}


</div>








