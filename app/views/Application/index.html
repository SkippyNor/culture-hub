#{extends viewUtils.themeProperty('themeLayout') /}
#{set title: viewUtils.getKey('ui.label.welcome') /}
#{set bodyId:'home' /}
#{set 'moreCss'}

#{/set}

#{set 'moreScripts'}
<script src='${views.context.package.themePath("javascripts/index.js")}' type='text/javascript'></script>
#{/set}

<div class="messages-container row">
    <div class="messages">
        #{if flash.registrationSuccess}
        <p class="success">
            ${viewUtils.getKey("ui.message.registration.success", flash.registrationSuccess)}
        </p>
        #{/}
        #{if flash.registrationError}
        <p class="error">
            ${viewUtils.getKey("ui.message.registration.error", flash.registrationError)}
        </p>
        #{/}
        #{if flash.activation && flash.activation == "true"}
        <p class="success">
            ${viewUtils.getKey("ui.message.activation.success")}
        </p>
        #{/}
        #{if flash.activation && flash.activation == "false"}
        <p class="error">
            ${viewUtils.getKey("ui.message.activation.error")}
        </p>
        #{/}
        #{if flash.resetPasswordEmail && flash.resetPasswordEmail == "true"}
        <p class="success">
            ${viewUtils.getKey("ui.message.resetpassword.email.success")}
        </p>
        #{/}
        #{if flash.resetPasswordError}
        <p class="error">
            ${viewUtils.getKey("ui.message.resetpassword.error", flash.resetPasswordError)}
        </p>
        #{/}
        #{if flash.resetPasswordSuccess && flash.resetPasswordSuccess == "true"}
        <p class="success">
            ${viewUtils.getKey("ui.message.resetpassword.success")}
        </p>
        #{/}
    </div>
</div>

<div class="row">
    #{if recentObjects.size() > 0}
    <div class="g-4of12 grid_4">
        <h3>${recentObjects.size() == 1 ? viewUtils.getKey('home.recentobject') : viewUtils.getKey('home.recentobjects')}</h3>
        #{list recentObjects, as: 'o'}
            #{thingSummaryView data: o, type: messages.get('thing.object'), iSize: 300 /}
        #{/list}
    </div>
    #{/if}

    #{if recentCollections.size() > 0}
    <div class="g-4of12 grid_4">
        <h3>${recentCollections.size() == 1 ? viewUtils.getKey('home.recentcollection') : viewUtils.getKey('home.recentcollections')}</h3>
        #{list recentCollections, as: 'c'}
            #{thingSummaryView data: c, type:messages.get('thing.collection'), iSize: 300 /}
        #{/list}
    </div>
    #{/if}

    #{if recentStories.size() > 0}
    <div class="g-4of12 grid_4">
        <h3>${recentStories.size() == 1 ? viewUtils.getKey('home.recentstory') : viewUtils.getKey('home.recentstories')}</h3>
        #{list recentStories, as: 's'}
            #{thingSummaryView data: s, type:messages.get('thing.story'), iSize: 300 /}
        #{/list}
    </div>
    #{/if}
</div>








